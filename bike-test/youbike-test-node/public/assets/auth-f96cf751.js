import{cy as u,i as p}from"./index-c76dfb5f.js";function c(t){this.message=t}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var d=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,e,i=0,o=0,s="";e=r.charAt(o++);~e&&(n=i%4?64*n+e:e,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return s};function f(t){var r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(d(n).replace(/(.)/g,function(e,i){var o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(r)}catch{return d(r)}}function a(t){this.message=t}function h(t,r){if(typeof t!="string")throw new a("Invalid token specified");var n=(r=r||{}).header===!0?0:1;try{return JSON.parse(f(t.split(".")[n]))}catch(e){throw new a("Invalid token specified: "+e.message)}}a.prototype=new Error,a.prototype.name="InvalidTokenError";const g=u("auth",()=>{const t=()=>{let e="";return document.cookie.split(";").forEach(o=>{o.split("=")[0].trim()==="youbiketest"&&(e=o.split("=")[1])}),e};function r(){const e=t();e&&(p.defaults.headers.common.Authorization=`Bearer ${e}`)}return{checkauth:r,getUserid:()=>{const e=t(),i=h(e),{person:o}=i;return o}}});export{g as u};
