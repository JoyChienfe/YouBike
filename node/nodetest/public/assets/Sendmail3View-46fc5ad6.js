import{u as w,r as i,z as b,P as g,o as n,c as d,b as f,w as v,d as p,e as m,k as x,F as k,b3 as B,x as D,bS as N,bT as S}from"./index-986760c3.js";import{_ as T}from"./SendComponent2-b65f2612.js";import"./FormItem-ea8e3ab2.js";const V={class:"contanier"},z=m("div",{class:"row mx-0"},[m("h1",{class:"report-h1 fw-bold"},"電量緊急派工")],-1),C={__name:"Sendmail3View",setup(F){const h={"min-width":"80px","font-weight":"900"},a=w().citys,t=i(null),e=i([]),c=i([]);function _(){a.includes(2)&&e.value.push("台北市"),a.includes(3)&&e.value.push("新北市"),a.includes(4)&&e.value.push("桃園市"),a.includes(5)&&e.value.push("新竹市"),a.includes(6)&&e.value.push("新竹縣"),a.includes(20)&&e.value.push("竹科"),a.includes(7)&&e.value.push("苗栗縣"),a.includes(8)&&e.value.push("台中市"),a.includes(12)&&e.value.push("嘉義市"),a.includes(13)&&e.value.push("嘉義縣"),a.includes(14)&&e.value.push("台南市"),a.includes(15)&&e.value.push("高雄市"),a.includes(16)&&e.value.push("屏東縣")}const o=i([]);function y(){o.value=c.value.filter(s=>s.city_name===t.value)}b(t,()=>{y()}),g("getData",r);async function r(){try{const s="https://report.youbike.com.tw/mail/mailcontent",u=await x.get(s);c.value=u.data.data.filter(l=>l.type_name==="電量緊急派工")}catch(s){console.log(s)}}return(async()=>(_(),e.value.length!==0&&(await r(),t.value=e.value[0])))(),(s,u)=>(n(),d("div",V,[z,f(p(S),{value:t.value,"onUpdate:value":u[0]||(u[0]=l=>t.value=l),type:"card","tab-style":h,size:"large"},{default:v(()=>[(n(!0),d(k,null,B(e.value,l=>(n(),D(p(N),{key:l,name:l},{default:v(()=>[f(T,{maildata:o.value,city:t.value,type:"電量緊急派工"},null,8,["maildata","city"])]),_:2},1032,["name"]))),128))]),_:1},8,["value"])]))}};export{C as default};
