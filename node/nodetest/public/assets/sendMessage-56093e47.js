import{_ as L,i as S,r as c,o as p,c as f,b as n,d,e as t,l as w,b2 as x,b4 as y,j as _,F as U,b3 as V,w as v,B as k,k as I,L as P,q as B,bR as F,N as M,s as A,t as E}from"./index-7ad65401.js";import{r as z,u as O}from"./xlsx-bd534488.js";import{A as $}from"./AlertCircle-3515488e.js";const s=i=>(A("data-v-081c09d8"),i=i(),E(),i),q={class:"container-fluid"},H=s(()=>t("div",{class:"row mx-0 mb-3"},[t("h1",{class:"report-h1 fw-bold"},"簡訊發送")],-1)),W={class:"row border-3 border py-3 mb-3 rounded"},G=s(()=>t("div",{class:"btn-toolbar mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},null,-1)),J=s(()=>t("h2",{class:"fs-5 fw-bold mb-2"},"1.輸入電話號碼",-1)),K={class:"col-auto mb-1"},Q={class:"row border-3 border py-3 rounded mb-3"},X={class:"row mb-1"},Y=s(()=>t("div",{class:"btn-toolbar mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},null,-1)),Z=s(()=>t("h2",{class:"fs-5 fw-bold mb-2"},"2.輸入簡訊內容",-1)),tt={class:"col-10"},et={class:"col-2 d-flex flex-column justify-content-center"},ot={class:"text-center gradient-bg mb-1"},st={class:"text-danger"},at=s(()=>t("p",{class:"text-center gradient-bg mb-1"},[t("span",{class:"text-danger"},"0"),_("點 ")],-1)),lt=s(()=>t("p",{class:"text-center gradient-bg mb-1"},[t("span",{class:"text-success"},"短 "),_("簡訊 ")],-1)),ct={class:"row mb-2"},nt={class:"col-12"},dt={class:"punctuation-panel"},it=["onClick"],rt={class:"row border-3 border py-3 rounded mb-3"},bt={class:"row mb-1"},ut=s(()=>t("div",{class:"btn-toolbar mb-3 col-12",role:"toolbar","aria-label":"Toolbar with button groups"},null,-1)),pt=s(()=>t("h2",{class:"fs-5 fw-bold mb-2"},"3.設定發送時間",-1)),ft=s(()=>t("div",null,[t("div",{class:"btn-group mb-1",role:"group","aria-label":"First group"},[t("button",{type:"button",class:"btn btn-warning active fw-bold"}," 預約查詢 "),t("button",{type:"button",class:"btn btn-warning fw-bold"}," 預約取消 "),t("button",{type:"button",class:"btn btn-warning fw-bold"}," 本日查詢 "),t("button",{type:"button",class:"btn btn-warning fw-bold"}," 本月查詢 ")])],-1)),vt=s(()=>t("div",{class:"col-12 mb-1"},[t("div",{class:"col form-check"},[t("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),t("label",{class:"form-check-label fw-bold",for:"flexRadioDefault1"}," 及時發送 ")])],-1)),_t={class:"col-12 mb-1"},mt={class:"row"},ht=s(()=>t("div",{class:"col-auto d-flex flex-column justify-content-center"},[t("div",{class:"form-check my-auto"},[t("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}),t("label",{class:"form-check-label fw-bold",for:"flexRadioDefault2"}," 預約發送 ")])],-1)),gt={class:"col-auto"},wt={class:"row fw-bold"},xt={class:"col-auto mb-1 d-flex"},yt=k('<span class="me-2 my-auto" data-v-081c09d8>簡訊有效期限</span><div class="me-2" data-v-081c09d8><select class="form-select col-auto form-select-sm" aria-label="Default select example" data-v-081c09d8><option selected data-v-081c09d8>請選擇</option><option value="1" data-v-081c09d8>24小時</option><option value="2" data-v-081c09d8>Two</option><option value="3" data-v-081c09d8>Three</option></select></div>',2),kt={class:"my-auto"},Ct=s(()=>t("span",{style:{"font-weight":"700"}},"說明文字~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~",-1)),Dt=s(()=>t("span",{class:"ms-1 text-info"},"有效期限說明",-1)),Rt=k('<div class="col-12 d-flex align-items-center mb-1" data-v-081c09d8><div class="form-check" data-v-081c09d8><input class="form-check-input" type="checkbox" id="gridCheck2" data-v-081c09d8><label class="form-check-label fw-bold" for="gridCheck2" data-v-081c09d8>預覽發送</label></div></div><div class="mb-3 col-auto d-flex" data-v-081c09d8><label for="inputPassword" class="col-form-label me-2" data-v-081c09d8>批次名稱</label><div class="my-auto" data-v-081c09d8><input type="password" class="form-control form-control-sm" id="inputPassword" data-v-081c09d8></div></div>',2),Nt={__name:"sendMessage",setup(i){S("$swal");const C=c(["，","。","？","！","「","」","『","』","︰","（","）","《","》","〈","〉","［","］","｛","｝","：","；","‘","’","“","”","、","。","·","……","—","《","》","（","）","【","】","+","-","±","÷","×","=","≠","%","∞","√"]);function D(l){b.value+=l}const m=c(!1),h=c(null),r=c(),b=c("");function R(){const o=["0912345678","0987654321","0988888888","0977777777"].join(`
`),e=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),u=URL.createObjectURL(e);a.href=u,a.download="手機範例檔(請使用記事本開啟).csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)}const N=async l=>{const o=l.target.files[0];if(!o||!o.name.toLowerCase().endsWith(".csv")){alert("請上傳 CSV 檔案。");return}const e=URL.createObjectURL(o);try{const a=await I.get(e,{responseType:"arraybuffer"}),u=z(a.data,{type:"array",codepage:65001}),T=u.Sheets[u.SheetNames[0]],g=O.sheet_to_json(T,{header:1,defval:"",blankrows:!0,raw:!1});console.log(g),r.value=[...g]}catch(a){console.log(a)}},j=()=>{console.log(r.value)};return(l,o)=>(p(),f("div",q,[n(d(P),{active:m.value,"onUpdate:active":o[0]||(o[0]=e=>m.value=e),"can-cancel":!1,"is-full-page":!0},null,8,["active"]),H,t("div",W,[G,J,t("div",K,[t("input",{type:"file",class:"form-control",onChange:N,ref:"file"},null,544)]),t("div",{class:"col-auto mb-1"},[t("button",{type:"button",class:"btn btn-primary fw-bold",onClick:R}," 下載範例檔案 ")]),t("div",null,[w(t("textarea",{class:"form-control",placeholder:"0912345678,0987654321,0966666666",id:"floatingTextarea",style:{height:"100px"},"onUpdate:modelValue":o[1]||(o[1]=e=>r.value=e)},null,512),[[x,r.value]])])]),t("div",Q,[t("div",X,[Y,Z,t("div",tt,[w(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=e=>b.value=e),class:"form-control form-control-sm",placeholder:"輸入簡訊內容",id:"floatingTextarea",style:{height:"100px"}},null,512),[[x,b.value]])]),t("div",et,[t("p",ot,[t("span",st,y(b.value.length),1),_("字 ")]),at,lt])]),t("div",ct,[t("div",nt,[t("div",dt,[(p(!0),f(U,null,V(C.value,e=>(p(),f("button",{key:e,type:"button",class:"btn btn-sm me-1 mb-1 btn-outline-secondary",onClick:a=>D(e)},y(e),9,it))),128))])])])]),t("div",rt,[t("div",bt,[ut,pt,ft,vt,t("div",_t,[t("div",mt,[ht,t("div",gt,[n(d(B),{value:h.value,"onUpdate:value":o[3]||(o[3]=e=>h.value=e),type:"datetime",size:"small",clearable:""},null,8,["value"])])])]),t("div",wt,[t("div",xt,[yt,t("div",kt,[n(d(M),{trigger:"hover"},{trigger:v(()=>[n(d(F),{size:"20",color:"#0DCAF0"},{default:v(()=>[n(d($))]),_:1})]),default:v(()=>[Ct]),_:1}),Dt])]),Rt])])]),t("div",{class:"row d-flex justify-content-center"},[t("button",{class:"btn btn-danger btn-lg",style:{width:"200px"},onClick:j}," 發送 ")])]))}},St=L(Nt,[["__scopeId","data-v-081c09d8"]]);export{St as default};
