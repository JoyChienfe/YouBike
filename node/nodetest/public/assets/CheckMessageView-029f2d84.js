import{r as d,o as u,c as p,b as m,d as _,e as r,Q as y,k as c,h}from"./index-2bed0a42.js";import{N as f}from"./DataTable-04116403.js";import"./get-slot-1efb97e5.js";const k={class:"container-fluid border border-3 pt-3"},b=r("div",{class:"row mx-0 mb-3"},[r("h1",{class:"report-h1 fw-bold"},"發送確認")],-1),x={__name:"CheckMessageView",setup(w){const s=d([]),n=[{title:"筆數",key:"total_count"},{title:"日期",key:"date"},{title:"公號",key:"yb_id"},{title:"操作",key:"actions",render(t){return y(h,{type:"primary",onClick:()=>l(t)},{default:()=>"送出"})}}],l=async t=>{const{date:e,yb_id:i}=t;try{const a="https://report.youbike.com.tw/sms/update_check";await c.put(a,{date:e,yb_id:i})}catch(a){console.log(a)}finally{await o()}};async function o(){try{const t="https://report.youbike.com.tw/sms/status_check",e=await c.get(t);s.value=e.data.result}catch(t){console.log(t)}}return(async()=>await o())(),(t,e)=>(u(),p("div",k,[b,m(_(f),{columns:n,bordered:!1,"single-line":!1,data:s.value},null,8,["data"])]))}};export{x as default};
