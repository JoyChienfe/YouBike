import{_ as $,i as j,r as l,z as E,o as _,c as v,b as V,d as B,e,l as x,b2 as g,n as I,b4 as f,j as p,F as U,b3 as F,L as H,s as S,t as P}from"./index-bfe704f8.js";const c=i=>(S("data-v-3f370718"),i=i(),P(),i),R={class:"container-fluid"},z=c(()=>e("div",{class:"row mx-0 mb-3"},[e("h1",{class:"report-h1 fw-bold"},"簡訊發送")],-1)),A={novalidate:""},D={class:"row border-3 border py-3 mb-3 rounded"},W=c(()=>e("div",{class:"btn-toolbar mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},null,-1)),O=c(()=>e("h2",{class:"fs-5 fw-bold mb-2"},"1.輸入電話號碼",-1)),q={class:"col-auto mb-1"},G={class:"invalid-feedback"},J={class:"row border-3 border py-3 rounded mb-3"},K={class:"row mb-1"},Q=c(()=>e("div",{class:"btn-toolbar mb-3",role:"toolbar","aria-label":"Toolbar with button groups"},null,-1)),X=c(()=>e("h2",{class:"fs-5 fw-bold mb-2"},"2.輸入簡訊內容",-1)),Y={class:"col-10"},Z={class:"col-2 d-flex flex-column justify-content-center"},ee={class:"text-center gradient-bg mb-1"},te={class:"text-danger"},se=c(()=>e("p",{class:"text-center gradient-bg mb-1"},[e("span",{class:"text-danger"},"0"),p("點 ")],-1)),oe=c(()=>e("p",{class:"text-center gradient-bg mb-1"},[e("span",{class:"text-success"},"短 "),p("簡訊 ")],-1)),ne={class:"row mb-2"},ae={class:"col-12"},le={class:"punctuation-panel"},ce=["onClick"],re={__name:"sendMessage",setup(i){const w=j("$swal");async function y(o){w({icon:"error",title:`${o}`,showConfirmButton:!1})}const C=l(["，","。","？","！","「","」","『","』","︰","（","）","《","》","〈","〉","［","］","｛","｝","：","；","‘","’","“","”","、","。","·","……","—","《","》","（","）","【","】","+","-","±","÷","×","=","≠","%","∞","√"]);function T(o){d.value+=o}const h=l(!1);l(null);const d=l(""),r=l(""),u=l(""),a=l("");function k(){const s=["0912345678,","0987654321,","0988888888,","0977777777,"].join(`
`),t=new Blob([s],{type:"text/plain;charset=utf-8;"}),n=document.createElement("a"),b=URL.createObjectURL(t);n.href=b,n.download="電話號碼範例檔.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n)}const L=async o=>{const s=o.target.files[0];if(!s||!s.name.toLowerCase().endsWith(".txt")){await y("請上傳txt文件");return}const t=new FileReader;t.onload=function(n){const b=n.target.result;r.value=b},t.readAsText(s)};function M(o){const s=o.replace(/,$/,"");return/^09\d{8}$/.test(s)}function m(o){return a.value=!0,u.value="",o.split(`
`).forEach((t,n)=>{t.endsWith(",")||(u.value+=`第${n+1}行格式錯誤，應以逗號結尾。
`,a.value=!1),M(t)||(u.value+=`第${n+1}行手機格式錯誤。
`,a.value=!1)}),a.value}E(r,o=>{m(o)});const N=()=>{m(r.value)&&console.log(r.value)};return(o,s)=>(_(),v("div",R,[V(B(H),{active:h.value,"onUpdate:active":s[0]||(s[0]=t=>h.value=t),"can-cancel":!1,"is-full-page":!0},null,8,["active"]),z,e("form",A,[e("div",D,[W,O,e("div",q,[e("input",{type:"file",class:"form-control",onChange:L,ref:"file"},null,544)]),e("div",{class:"col-auto mb-1"},[e("button",{type:"button",class:"btn btn-primary fw-bold",onClick:k}," 下載範例檔案 ")]),e("div",null,[x(e("textarea",{class:I({"form-control":!0,"is-valid":a.value,"is-invalid":a.value!==""&&!a.value}),placeholder:`0912345678,\r
0987654321,\r
0966666666,`,id:"floatingTextarea",style:{height:"100px"},"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t)},null,2),[[g,r.value]]),e("div",G,f(u.value),1)])]),e("div",J,[e("div",K,[Q,X,e("div",Y,[x(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>d.value=t),class:"form-control form-control-sm",placeholder:"輸入簡訊內容",id:"floatingTextarea",style:{height:"100px"}},null,512),[[g,d.value]])]),e("div",Z,[e("p",ee,[e("span",te,f(d.value.length),1),p("字 ")]),se,oe])]),e("div",ne,[e("div",ae,[e("div",le,[(_(!0),v(U,null,F(C.value,t=>(_(),v("button",{key:t,type:"button",class:"btn btn-sm me-1 mb-1 btn-outline-secondary",onClick:n=>T(t)},f(t),9,ce))),128))])])])]),e("div",{class:"row d-flex justify-content-center"},[e("button",{class:"btn btn-danger btn-lg",style:{width:"200px"},type:"button",onClick:N}," 發送 ")])])]))}},de=$(re,[["__scopeId","data-v-3f370718"]]);export{de as default};
